# 面试 QA 生成指南

> 参考业界顶级面试题格式（Sierra AI、OpenAI/Anthropic 联合评估标准）

## QA 格式要求

### 基本结构

```markdown
### Q{N}: {问题标题}
**难度**: 三星/四星/五星 | **类别**: {类别标签}

{问题描述}

请回答：
1. {子问题 1}
2. {子问题 2}
3. {子问题 3}

**源码引用**:
- {文件}:{行号} ({说明})
```

### 难度评级

- **三星**: 中级工程师水平，考察基础理解
- **四星**: 高级工程师水平，考察深度思考和权衡分析
- **五星**: Staff/Principal 水平，考察系统设计和行业认知

### 类别标签

- **架构决策**: 技术选型、框架选择、架构演进
- **框架选择**: 自研 vs 开源、trade-off 分析
- **系统设计**: 场景设计、边界划分
- **Agent 核心**: ReAct 循环、状态管理、上下文
- **工具系统**: 工具定义、依赖注入、MCP 集成
- **Multi-Agent**: 协作模式、通信协议、调度
- **安全对齐**: Prompt Injection、权限控制、Agentic Misalignment
- **生产部署**: 监控、调试、成本优化

## 问题设计原则

### 1. 从代码反推问题

**发现模式**：
- 发现有趣实现 → "你能解释一下 {file}:{line} 的设计思路吗？"
- 发现特殊处理 → "这里为什么需要 {condition} 分支？"
- 发现抽象层 → "为什么要抽象这一层，解决了什么问题？"

### 2. 深度问题

**避免**："是什么"类问题
**鼓励**："为什么"、"trade-off"、"对比"、"如果重构"

### 3. 源码引用

每个问题必须引用具体的源码位置：`{文件}:{行号}`

## QA 分布（15 道核心题）

### 架构与权衡 (5题)

- Q1: 架构选择与 Trade-off
- Q2: 自研 vs 开源框架
- Q3: Agent 适用边界
- Q4: 框架对比深度分析
- Q5: 架构演进路径

### Agent 核心 (4题)

- Q6: Agent 循环与状态管理
- Q7: Context 压缩策略
- Q8: 工具注册与依赖注入
- Q9: 工具输出的三层语义

### 工具系统 (3题)

- Q10: MCP 集成与工具生态
- Q11: 工具权限与安全边界
- Q12: 工具输出建模

### Multi-Agent (2题)

- Q13: 分形 Agent 架构 vs 业界模式
- Q14: 跨 Agent 通信与协调

### 场景设计 (1题)

- Q15: 系统设计实战（如 GitHub Issue 自动修复）

## Bonus 挑战题

- 技术债务与重构
- 未来趋势预测
- 如果用 Rust 重写

## 示例

参考 `kimi-cli-interview-questions-v2.md` 获取完整示例。
